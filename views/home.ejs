<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./partials/head") %>
    <title>Blogify</title>
</head>
<body>

<%- include("./partials/nav") %>

<!-- ðŸ”¥ HERO SECTION -->
<section class="bg-dark text-white text-center py-5">
    <div class="container">
        <h1 class="display-4 fw-bold">Welcome to Blogify</h1>
        <p class="lead mt-3">
            Share your ideas, inspire others, and explore amazing blogs from creators around the world.
        </p>

        <a href="/add-blog" class="btn btn-light btn-lg mt-3 me-3">
            Create Blog
        </a>

        <a href="#latest" class="btn btn-outline-light btn-lg mt-3">
            Explore Blogs
        </a>
    </div>
</section>


<section id="latest" class="container mt-5">
    <h2 class="mb-4 fw-bold">Latest Blogs</h2>

    <div class="row g-4">

        <% blogs.forEach(blog => { %>

            <div class="col-12 col-sm-6 col-md-4">
                <div class="card shadow-sm h-100 border-0">

                    <img src="<%= blog.thumbnailUrl %>"
                         class="card-img-top"
                         style="height:200px; object-fit:cover;" />

                    <div class="card-body d-flex flex-column">

                        <h5 class="card-title fw-bold">
                            <%= blog.title %>
                        </h5>

                        <p class="card-text text-muted">
                            <%= blog.body.length > 120
                                ? blog.body.substring(0,120) + "..."
                                : blog.body %>
                        </p>

                        <a href="/blog/<%= blog._id %>"
                           class="btn btn-dark mt-auto">
                           Read More
                        </a>

                        <small class="text-muted mt-2">
                            <%= blog.createdBy 
                                ? (blog.createdBy.fullName || blog.createdBy.email) 
                                : "Unknown Author" %>
                        </small>

                    </div>
                </div>
            </div>

        <% }) %>

    </div>
</section>


<%- include("./partials/scripts") %>

</body>
</html>
